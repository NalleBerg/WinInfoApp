cmake_minimum_required(VERSION 3.16)
project(WinInfoApp LANGUAGES CXX)

set(CMAKE_CXX_STANDARD 17)

set(CMAKE_MSVC_RUNTIME_LIBRARY "MultiThreaded$<$<CONFIG:Debug>:Debug>")

add_executable(WinInfoApp
    wininfoapp.cpp
    cpuinfo.cpp
    storagepage.cpp
    cpuinfopage.cpp
    appicon.rc
)

add_definitions(-DUNICODE -D_UNICODE)

# Link to Windows libraries if needed (user32, gdi32, etc.)
target_link_libraries(WinInfoApp PRIVATE user32 gdi32 gdiplus comctl32 shell32)
set_target_properties(WinInfoApp PROPERTIES WIN32_EXECUTABLE TRUE)